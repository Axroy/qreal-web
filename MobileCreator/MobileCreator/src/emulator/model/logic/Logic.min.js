define(["require","exports","emulator/model/Emulator","emulator/model/managers/EventManager","utils/log/Log"],function(n,t,i,r,u){var f=i,e=r,o=u,s=function(){function n(){this.logger=new o.Logger("FunctionFactory")}return n.prototype.seqFunc=function(n,t){return function(){n(),t()}},n.prototype.ifFunc=function(n,t,i){return function(){n()?t():i&&i()}},n.prototype.transitionFunc=function(n){return function(){f.Emulator.instance.NavigationManager.showPage(n)}},n.prototype.loginRequestFunc=function(n,t,i){var r=f.Emulator.instance.EmulatorViewModel.getInputText(t),u=f.Emulator.instance.EmulatorViewModel.getInputText(i),e=this;return function(){e.sendLoginRequest(n,r,u)}},n.prototype.saveSessionFunc=function(){return this.logger.log("saveSessionFunc"),function(){}},n.prototype.patientsRequestFunc=function(n){this.logger.log("saveSessionFunc");var t=this;return function(){t.sendPatientsRequest(n)}},n.prototype.sendLoginRequest=function(n,t,i){this.logger.log("sendLoginRequest: url="+n+" login="+t+" password="+i);var r=jQuery.param({login:t,password:i});$.ajax({type:"POST",url:n,data:r,success:function(n){f.Emulator.instance.EventManager.trigger(f.Emulator.instance.NavigationManager.CurrentPage.Name,e.EventManager.OnLoginResponse,n),alert("Response "+n)},dataType:"text"})},n.prototype.sendPatientsRequest=function(n){this.logger.log("sendPatientsRequest: url="+n),$.ajax({type:"POST",url:n,success:function(n){f.Emulator.instance.EventManager.trigger(f.Emulator.instance.NavigationManager.CurrentPage.Name,e.EventManager.OnPatientsResponse,n),alert("Response "+n)},dataType:"text"})},n}();t.FunctionFactory=s})
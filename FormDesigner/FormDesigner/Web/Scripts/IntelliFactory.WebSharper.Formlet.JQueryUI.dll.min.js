(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9;$.Define($$,{IntelliFactory:{WebSharper:{Formlet:{JQueryUI:{Controls:{AccordionChoose:function(_){var ba;ba=function(){var bc,bd,be,bf,bg,bo,bq,br,bs,bt,bu,bv,b9;bc=a(_.get_Length());bd=(be=(bf=(bg=function(){return $.Tupled(function(bi){var bj,bk,bl,bm,bn;bj=bi[0];bk=bi[1];bl=e.FormAndElement(bk);bm=bl[0];bn=bl[1];return[bj,g.Heat(bm.State),bm.Notify,bn];});},function(bn){return h.mapi(bg,bn);}),bf(_)),(bo=function(bp){return i.ofSeq(bp);},bo(be)));bq=j.New1();br=function(){var bx,by,bz,bA,bB,bI,bK,bM,bN;bx=(by=(bz=(bA=(bB=$.Tupled(function(bC){var bD,bE,bF,bG;bD=bC[0];bE=bC[1];bF=bC[2];bG=bC[3];return[bD,bG];}),function(bH){return i.map(bB,bH);}),bA(bd)),(bI=function(bJ){return h.ofArray(bJ);},bI(bz))),(bK=function(bL){return l.New2(bL);},bK(by)));bM=(bN=function(bO){bt(0);return m(bO.element.Body).accordion("activate",0);},function(bP){return o.OnAfterRender(bN,bP);});bM(bx);return bx;};bs=p.Create(br);bt=function(bQ){var bR,bS;bR=bd[bQ];bS=bR[1];return bq.Trigger(bS);};bu=function(){var bU,bV,b2;bU=(bV=$.Tupled(function(bW){var bX,bY,bZ,b0;bX=bW[0];bY=bW[1];bZ=bW[2];b0=bW[3];return bZ(null);}),function(b1){return i.iter(bV,b1);});bU(bd);b2=p.Force(bs);m(b2.element.Body).accordion("activate",0);return bt(0);};bv=p.Force(bs);bv.OnChange(function(){return function(){var b5,b6,b7;b5=(b6=bv.get_Body(),(b7=function(b8){return m(b8).accordion("option","active");},b7(b6)));return bt(b5);};});b9=g.Switch(bq);return[bv,bu,b9];};return e.MkFormlet(ba);},AccordionList:function(b_){var b$;b$=function(){var cb,cc,cd,cl,cm,cn,co,cp,cv,cy,cz,cA,cB,cH,cJ;cb=(cc=(cd=$.Tupled(function(ce){var cf,cg,ch,ci,cj;cf=ce[0];cg=ce[1];ch=e.FormAndElement(cg);ci=ch[0];cj=ch[1];return[cf,ci,cj];}),function(ck){return h.map(cd,ck);}),cc(b_));cl=(cm=(cn=(co=(cp=$.Tupled(function(cq){var cr,cs,ct;cr=cq[0];cs=cq[1];ct=cq[2];return cs.State;}),function(cu){return h.map(cp,cu);}),co(cb)),(cv=function(cw){return g.Sequence(cw);},cv(cn))),g.Select(cm,function(cx){return s.Sequence(cx);}));cy=(cz=(cA=(cB=$.Tupled(function(cC){var cD,cE,cF;cD=cC[0];cE=cC[1];cF=cC[2];return[cD,cF];}),function(cG){return h.map(cB,cG);}),cA(cb)),(cH=function(cI){return l.New2(cI);},cH(cz)));cJ=function(){var cL,cM;m(cy.element.Body).accordion("activate",0);cL=(cM=$.Tupled(function(cN){var cO,cP,cQ;cO=cN[0];cP=cN[1];cQ=cN[2];return cP.Notify.call(null,null);}),function(cR){return t.iter(cM,cR);});return cL(cb);};return[cy,cJ,cl];};return e.MkFormlet(b$);},Autocomplete:function(cS,cT){var cU;cU=function(){var cW,cX,cY,cZ,c4,c5,c9,c_,db,dc,df;cW=j.New($.New(s,{$:0,$0:cS}));cX=u.Input(h.ofArray([(cY=u.Attr(),cY.NewAttr("value",cS))]));cZ=function(){var c1,c2;c1=$.New(s,{$:0,$0:cX.get_Value()});c2=function(c3){return cW.Trigger(c3);};return c2(c1);};c4=(c5=function(){return function(){return cZ(null);};},function(c8){return v.Events().OnKeyUp(c5,c8);});c4(cX);c9=(c_=function(){return cZ(null);},function(da){return v.Events().OnChange(c_,da);});c9(cX);db=w.New1(cX,(dc=[x.New()],(null,dc[0].source=i.ofSeq(cT),dc[0])));db.OnChange(function(){return function(){return cZ(null);};});df=function(){cX.set_Value(cS);return cW.Trigger($.New(s,{$:0,$0:cS}));};return[db,df,cW];};return e.MkFormlet(cU);},Button:function(dh){var di,dj,dk;di=(dj=[y.New()],(null,dj[0].label=dh,dj[0]));dk=function(dl){return z.CustomButton(dl);};return dk(di);},CustomButton:function(dm){var dn;dn=function(){var dp,dq,dr,ds,du,dw;dp=j.New($.New(s,{$:1,$0:$.New(A,{$:0})}));dq={contents:0};dr=(ds=function(){return u.Button(h.ofArray([u.Text(dm.label)]));},B.New2(ds,dm));try{dr.Render();}catch(du){}dr.OnClick(function(){dp.Trigger($.New(s,{$:0,$0:dq.contents}));return C.Increment(dq);});dw=function(){dq.contents=0;return dp.Trigger($.New(s,{$:1,$0:$.New(A,{$:0})}));};return[dr,dw,dp];};return e.MkFormlet(dn);},Datepicker:function(dy){return z.DatepickerInput(true,dy);},DatepickerInput:function(dz,dA){var dB;dB=function(){var dD,dE,dF,dG,dH,dI,dL,dP,dQ;dD=dz?{$:0}:(dE=u.Input($.New(A,{$:0})),{$:1,$0:dE});dF=dD.$==1?(dG=dD.$0,D.New2(dG)):D.New4();dH=dA.$==0?j.New1():(dI=dA.$0,j.New($.New(s,{$:0,$0:dI})));dF.OnSelect(function(dJ){return function(){return dH.Trigger($.New(s,{$:0,$0:dJ}));};});dL=function(){var dN,dO;if(dA.$==0){if(dD.$==0){}else{dN=dD.$0;dN.set_Value("");}return dH.Trigger($.New(s,{$:1,$0:$.New(A,{$:0})}));}else{dO=dA.$0;m(dF.element.Body).datepicker("setDate",dO);return dH.Trigger($.New(s,{$:0,$0:dO}));}};dP=(dQ=function(){return dL(null);},function(dS){return o.OnAfterRender(dQ,dS);});dP(dF);return[dF,dL,dH];};return e.MkFormlet(dB);},Dialog:function(dT){var dU;dU=function(){var dW,dX,dZ;dW=j.New($.New(s,{$:1,$0:$.New(A,{$:0})}));dX=E.New2(dT(null));dX.OnClose(function(){return dW.Trigger($.New(s,{$:0,$0:null}));});m(dX.element.Body).dialog("enable");m(dX.element.Body).dialog("open");dZ=function(){m(dX.element.Body).dialog("close");return dW.Trigger($.New(s,{$:1,$0:$.New(A,{$:0})}));};return[u.Div(h.ofArray([dX])),dZ,dW];};return e.MkFormlet(dU);},DragAndDrop:function(d1,d2){var d3;d3=function(){var d5,d6,d7,d8,d9,d_,ec,eg,eh,ei,ej,er,ew,eB,eG,eH,eZ,fj,fo,fs,ft,fv,fw,fx,fy,fz;d5=d1.$==0?F.get_Default():(d6=d1.$0,d6);d7={contents:$.New(A,{$:0})};d8=j.New1();d9=H.New2();d_=function(d$,ea){var eb;return o.add(o.add(o.add(u.Span(z.GetStyle(d5.DraggableStyle)),h.ofArray([u.Attr().Class(d5.DraggableClass)])),h.ofArray([(eb=u.Attr(),eb.NewAttr("id",d$))])),h.ofArray([u.Text(ea)]));};ec=function(ed,ee){var ef;return o.add(o.add(o.add(u.Span(z.GetStyle(d5.DroppableStyle)),h.ofArray([u.Attr().Class(d5.DroppableClass)])),h.ofArray([(ef=u.Attr(),ef.NewAttr("id",ed))])),h.ofArray([u.Text(ee)]));};eg=I.New();eg.helper="clone";eh=(ei=(ej=$.Tupled(function(ek){var el,em,en,eo,ep;el=ek[0];em=ek[1];en=ek[2];eo="id"+J.round(J.random()*100000000);d9.set_Item(eo,[el,em]);ep=d_(eo,el);return[eo,K.New1(ep,eg),en];}),function(eq){return h.map(ej,eq);}),ei(d2));er=h.map($.Tupled(function(es){var et,eu,ev;et=es[0];eu=es[1];ev=es[2];return et;}),eh);ew=h.map($.Tupled(function(ex){var ey,ez,eA;ey=ex[0];ez=ex[1];eA=ex[2];return ez;}),eh);eB=h.choose($.Tupled(function(eC){var eD,eE,eF;eD=eC[0];eE=eC[1];eF=eC[2];if(eF){return{$:1,$0:eD};}else{return{$:0};}}),eh);eG=o.add(o.add(u.Div(h.ofArray([u.Attr().Class(d5.DropContainerClass)])),z.GetStyle(d5.DropContainerStyle)),z.GetStyle(d5.DropContainerStyle));eH=function(){var eJ,eK,eL,eM,eN,eP,eQ,eV,eX;eJ=(eK=(eL=(eM=d7.contents,(eN=function(eO){return h.rev(eO);},eN(eM))),(eP=(eQ=$.Tupled(function(eR){var eS,eT;eS=eR[0];eT=eR[1];return eT;}),function(eU){return h.map(eQ,eU);}),eP(eL))),(eV=function(eW){return $.New(s,{$:0,$0:eW});},eV(eK)));eX=function(eY){return d8.Trigger(eY);};return eX(eJ);};eZ=function(e0){var e1,e2,e3,e4,e5,e6,e_,e$,fa,fb,fc;e1=d9.get_Item(e0);e2=e1[1];e3=e1[0];e4="id"+J.round(J.random()*100000000);e5=(e6=$.Tupled(function(e7){var e8,e9;e8=e7[0];e9=e7[1];return e8===e0;}),(e_=d7.contents,t.exists(e6,e_)));if(!d5.AcceptMany){m("#"+e0).hide();}if(!e5?true:d5.AcceptMany){e$=(fa=ec(e4,e3),(fb=(fc=function(fd){return function(){fd["HtmlProvider@32"].Remove(fd.Body);d7.contents=h.filter($.Tupled(function(ff){var fg,fh;fg=ff[0];fh=ff[1];return fg!==e4;}),d7.contents);if(!d5.AcceptMany){m("#"+e0).show();}return eH(null);};},function(fi){return v.Events().OnClick(fc,fi);}),(fb(fa),fa)));eG.AppendI(e$);d7.contents=$.New(A,{$:1,$0:[e4,e2],$1:d7.contents});return eH(null);}else{return null;}};fj={accept:"."+d5.DraggableClass,drop:$.Tupled(function(fk){var fl,fm,fn;fl=fk[0];fm=fk[1];return eZ((fn=fm.draggable.attr("id"),$$.String(fn)));})};fo=function(){var fq,fr;fq=L.Get(er);while(fq.MoveNext()){fr=fq.get_Current();m("#"+fr).show();d7.contents=$.New(A,{$:0});eG["HtmlProvider@32"].Clear(eG.Body);t.iter(eZ,eB);eH(null);}};fs=M.New1(eG,(ft=function(fu){return fu;},ft(fj)));fv=o.add(o.add(u.Div(h.ofArray([u.Attr().Class(d5.DragContainerClass)])),z.GetStyle(d5.DragContainerStyle)),ew);fw=(fx=u.Div(h.ofArray([fv,eG])),(fy=(fz=function(){return fo(null);},function(fB){return o.OnAfterRender(fz,fB);}),(fy(fx),fx)));return[fw,fo,d8];};return e.MkFormlet(d3);},DragAndDropConfig:$.Class({},{get_Default:function(){var fC,fD,fE;fC={$:0};fD={$:0};fE={$:0};return $.New(F,{AcceptMany:true,DropContainerClass:N.DropContainerClass(),DragContainerClass:N.DragContainerClass(),DroppableClass:N.DroppableClass(),DraggableClass:N.DraggableClass(),DropContainerStyle:{$:0},DragContainerStyle:fC,DroppableStyle:fD,DraggableStyle:fE});}}),GetClass:function(fF){var fG;if(fF.$==0){return $.New(A,{$:0});}else{fG=fF.$0;return h.ofArray([u.Attr().Class(fG)]);}},GetStyle:function(fH){var fI,fJ;if(fH.$==0){return $.New(A,{$:0});}else{fI=fH.$0;return h.ofArray([(fJ=u.Attr(),fJ.NewAttr("style",fI))]);}},InputDatepicker:function(fK){return z.DatepickerInput(false,fK);},OnSelect:function(fL,fM){var fN,fO;fN=(fO=function(){return m(fL.element.el).tabs({select:function(fQ,fR){fM(fR.index);}});},function(fS){return o.OnAfterRender(fO,fS);});return fN(fL);},Slider:function(fT){var fU;fU=function(){var fW,fX,fY,fZ,f0,f1,f2,f3,f4,f6,f8,f9,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gt,gE,gF,gG,gH;fW=fT.$==0?O.get_Default():(fX=fT.$0,fX);fY=(fZ=[P.New()],(null,fZ[0].animate=fW.Animate,fZ[0].values=fW.Values,fZ[0].min=fW.Min,fZ[0].max=fW.Max,fZ[0]));f0=fW.Range;if(f0.$==2){fY.range="max";}else{if(f0.$==1){fY.range="min";}else{f1=f0.$0;fY.range=f1;}}f2=fW.Orientation;if(f2==="vertical"){fY.orientation="vertical";}else{fY.orientation="horizontal";}f3=(f4=function(f5){return"width: "+$$.String(f5)+"px;";},(f6=function(f7){return"height: "+$$.String(f7)+"px;";},(f8=[fW.Width,fW.Height],f8[0].$==0?f8[1].$==0?$.New(A,{$:0}):(f9=f8[1].$0,h.ofArray([(f_=u.Attr(),(f$=f6(f9),f_.NewAttr("style",f$)))])):f8[1].$==0?(ga=f8[0].$0,h.ofArray([(gb=u.Attr(),(gc=f4(ga),gb.NewAttr("style",gc)))])):(gd=f8[1].$0,(ge=f8[0].$0,h.ofArray([(gf=u.Attr(),(gg=f4(ge)+f6(gd),gf.NewAttr("style",gg)))]))))));gh=Q.New1(fY);gi=j.New1();gh.OnChange(function(){var gk,gl,gm,gn,gp,gr;gk=(gl=(gm=gh.get_Values(),(gn=function(go){return h.ofArray(go);},gn(gm))),(gp=function(gq){return $.New(s,{$:0,$0:gq});},gp(gl)));gr=function(gs){return gi.Trigger(gs);};return gr(gk);});gt=function(){var gv,gw,gx,gy,gA,gC;gh.set_Values(fW.Values);gv=(gw=(gx=fW.Values,(gy=function(gz){return h.ofArray(gz);},gy(gx))),(gA=function(gB){return $.New(s,{$:0,$0:gB});},gA(gw)));gC=function(gD){return gi.Trigger(gD);};return gC(gv);};gE=(gF=o.add(u.Div(f3),h.ofArray([gh])),(gG=(gH=function(){return gt(null);},function(gJ){return o.OnAfterRender(gH,gJ);}),(gG(gF),gF)));return[gE,gt,gi];};return e.MkFormlet(fU);},SliderConfiguration:$.Class({},{get_Default:function(){return $.New(O,{Animate:false,Orientation:"horizontal",Values:[0],Min:0,Max:100,Width:{$:0},Height:{$:0},Range:{$:0,$0:false}});}}),Sortable:function(gK){var gL;gL=function(){var gN,gO,gP,gQ,g1,g3,g5,g6,g7,g8,g_,g$,hb,hj,hl,hn,hF,hG,hH;gN=H.New2();gO=j.New1();gP=(gQ=g.Select(gO,function(gR){var gS,gT,gU,gV,gY;gS=(gT=(gU=(gV=function(gW){return gN.get_Item(gW);},function(gX){return h.map(gV,gX);}),gU(gR)),(gY=function(gZ){return g.Sequence(gZ);},gY(gT)));return g.Select(gS,function(g0){return h.ofSeq(g0);});}),(g1=function(g2){return g.Switch(g2);},g1(gQ)));g3=g.Select(gP,function(g4){return s.Sequence(g4);});g5=u.OL(h.ofArray([(g6=u.Attr(),g6.NewAttr("style","list-style-type: none; margin: 0; padding: 0;"))]));g7=S.New();g8={stop:function(){return g7.event.Trigger(null);}};g_=T.New1(g5,(g$=function(ha){return ha;},g$(g8)));hb=function(){var hd,he,hf,hh;hd=(he=m(g_.element.Body).sortable("toArray"),(hf=function(hg){return h.ofArray(hg);},hf(he)));hh=function(hi){return gO.Trigger(hi);};return hh(hd);};hj=U.subscribeTo(g7.event,function(){return hb(null);});hl=function(hm){hm;};hl(hj);hn=function(){var hp,hq,hr,hB,hC;gN.Clear();g5["HtmlProvider@32"].Clear(g5.Body);hp=(hq=(hr=function(hs){var ht,hu,hv,hw,hx,hy,hz;ht=e.FormAndElement(hs);hu=ht[0];hv=ht[1];hw="id"+J.round(J.random()*100000000);gN.set_Item(hw,g.Heat(hu.State));hx=u.Span(h.ofArray([u.Attr().Class("ui-icon ui-icon-arrowthick-2-n-s")]));hy=u.Table(h.ofArray([u.TBody(h.ofArray([u.TR(h.ofArray([u.TD(h.ofArray([hx])),u.TD(h.ofArray([hv]))]))]))]));return o.add(u.LI(h.ofArray([(hz=u.Attr(),hz.NewAttr("id",hw))])),h.ofArray([hy]));},function(hA){return h.map(hr,hA);}),hq(gK));hB=(hC=function(hD){return g5.AppendI(hD);},function(hE){return t.iter(hC,hE);});hB(hp);return hb(null);};hF=(hG=(hH=function(){return hn(null);},function(hJ){return o.OnAfterRender(hH,hJ);}),(hG(g5),g5));return[hF,hn,g3];};return V.BuildFormlet(gL);},TabsChoose:function(hK,hL){var hM;hM=function(){var hO,hP,hQ,hR,hS,h1,h3,h4,h5,h9,ih,ii,ij,ik,il,im,it,iv,ix,iy;hO=a(hL.get_Length());hP=(hQ=(hR=(hS=function(){return $.Tupled(function(hU){var hV,hW,hX,hY,hZ;hV=hU[0];hW=hU[1];hX=e.FormAndElement(hW);hY=hX[0];hZ=hX[1];return[hV,g.Heat(hY.State),hY.Notify,hZ];});},function(h0){return h.mapi(hS,h0);}),hR(hL)),(h1=function(h2){return i.ofSeq(h2);},h1(hQ)));h3=j.New1();h4=g.Switch(h3);h5=function(h6){var h7,h8;h7=hP[h6];h8=h7[1];return h3.Trigger(h8);};h9=function(h_){var h$,ia;h$=(ia=$.Tupled(function(ib){var ic,id,ie,_if;ic=ib[0];id=ib[1];ie=ib[2];_if=ib[3];return ie(null);}),function(ig){return i.iter(ia,ig);});h$(hP);m(h_.element.Body).tabs("select",hK);return h5(hK);};ih=(ii=(ij=(ik=(il=(im=$.Tupled(function(_in){var io,ip,iq,ir;io=_in[0];ip=_in[1];iq=_in[2];ir=_in[3];return[io,ir];}),function(is){return i.map(im,is);}),il(hP)),(it=function(iu){return h.ofArray(iu);},it(ik))),(iv=function(iw){return W.New2(iw);},iv(ij))),(ix=(iy=h9,function(iz){return o.OnAfterRender(iy,iz);}),(ix(ii),ii)));z.OnSelect(ih,h5);ih.OnSelect(function(){return function(iB){return h5(iB.index);};});return[ih,function(){return h9(ih);},h4];};return e.MkFormlet(hM);},TabsList:function(iD,iE){var iF;iF=function(){var iH,iI,iJ,iR,iS,iT,iU,iV,i1,i4,jb,jc,jd,je,jf,jl,jn,jo;iH=(iI=(iJ=$.Tupled(function(iK){var iL,iM,iN,iO,iP;iL=iK[0];iM=iK[1];iN=e.FormAndElement(iM);iO=iN[0];iP=iN[1];return[iL,iO,iP];}),function(iQ){return h.map(iJ,iQ);}),iI(iE));iR=(iS=(iT=(iU=(iV=$.Tupled(function(iW){var iX,iY,iZ;iX=iW[0];iY=iW[1];iZ=iW[2];return iY.State;}),function(i0){return h.map(iV,i0);}),iU(iH)),(i1=function(i2){return g.Sequence(i2);},i1(iT))),g.Select(iS,function(i3){return s.Sequence(i3);}));i4=function(i5){var i6,i7;m(i5.element.Body).tabs("select",iD);i6=(i7=$.Tupled(function(i8){var i9,i_,i$;i9=i8[0];i_=i8[1];i$=i8[2];return i_.Notify.call(null,null);}),function(ja){return t.iter(i7,ja);});return i6(iH);};jb=(jc=(jd=(je=(jf=$.Tupled(function(jg){var jh,ji,jj;jh=jg[0];ji=jg[1];jj=jg[2];return[jh,jj];}),function(jk){return h.map(jf,jk);}),je(iH)),(jl=function(jm){return W.New2(jm);},jl(jd))),(jn=(jo=i4,function(jp){return o.OnAfterRender(jo,jp);}),(jn(jc),jc)));return[jb,function(){return i4(jb);},iR];};return e.MkFormlet(iF);},TabsMany:function(jr,js,jt){var ju,jv,l2;ju=(jv=function(){var jx,jy,jz,jI,jJ,jK,j2,j3,j4,j5,j6,kb,kd,ke,kf,kg,kX,kY,kZ,k0,k1,lh,li,ls,lu,lv,lw,lx,ly,lB,lC,lD,lE,lF,lH,lJ,lL;jx=(jy=(jz=$.Tupled(function(jA){var jB,jC,jD,jE,jF,jG;jB=jA[0];jC=jA[1];jD=e.FormAndElement(jC);jE=jD[0];jF=jD[1];jG=g.Heat(jE.State);return[jB,jG,jF,jE];}),function(jH){return h.map(jz,jH);}),jy(js));jI={contents:jx};jJ=S.New();jK=function(){var jM,jN,jO,jP,jQ,jY,j0;jM=(jN=(jO=jI.contents,(jP=(jQ=function(){return $.Tupled(function(jS){var jT,jU,jV,jW;jT=jS[0];jU=jS[1];jV=jS[2];jW=jS[3];return jU;});},function(jX){return h.mapi(jQ,jX);}),jP(jO))),(jY=function(jZ){return e.RX().Sequence(jZ);},jY(jN)));j0=function(j1){return jJ.event.Trigger(j1);};return j0(jM);};j2=(j3=(j4=jI.contents,(j5=(j6=$.Tupled(function(j7){var j8,j9,j_,j$;j8=j7[0];j9=j7[1];j_=j7[2];j$=j7[3];return[j8,j_];}),function(ka){return h.map(j6,ka);}),j5(j4))),(kb=function(kc){return W.New2(kc);},kb(j3)));m(j2.element.Body).tabs("select",jr);kd=(ke=e.RX().Switch(jJ.event),(kf=(kg=function(kh){var ki,kj,kk,kl,km,kq,kr,kO,kQ,kR,kS;ki=(kj=(kk=(kl=(km=function(kn){return function(ko){return[kn,ko];};},function(kp){return t.mapi(km,kp);}),kl(kh)),(kq=(kr=$.Tupled(function(ks){var kt,ku,kv,kw,kx,ky,kz,kD,kE,kJ,kK;kt=ks[0];ku=ks[1];if(ku.$==0){if(ku.$0.$==0){m(j2.element.Body).tabs("remove",kt);jI.contents=(kv=(kw=(kx=jI.contents,(ky=(kz=function(kA){return $.Tupled(function(kB){return[kA,kB];});},function(kC){return h.mapi(kz,kC);}),ky(kx))),(kD=(kE=$.Tupled(function(kF){var kG,kH;kG=kF[0];kH=kF[1];return kG!==kt;}),function(kI){return h.filter(kE,kI);}),kD(kw))),(kJ=(kK=$.Tupled(function(kL){return kL[1];}),function(kM){return h.map(kK,kM);}),kJ(kv)));return{$:0};}else{return{$:1,$0:ku};}}else{return{$:1,$0:ku};}}),function(kN){return t.choose(kr,kN);}),kq(kk))),(kO=function(kP){return s.Sequence(kP);},kO(kj)));kQ=(kR=(kS=function(kT){return kT;},function(kU){return h.choose(kS,kU);}),function(kV){return s.Map(kR,kV);});return kQ(ki);},function(kW){return e.RMap(kg,kW);}),kf(ke)));kX=(kY={$:0},$.New(X,{Element:(kZ=u.Div(h.ofArray([j2])),(k0=(k1=function(){var k3,k4,k5,k6,k7,lc,le;k3=(k4=(k5=jI.contents,(k6=(k7=$.Tupled(function(k8){var k9,k_,k$,la;k9=k8[0];k_=k8[1];k$=k8[2];la=k8[3];return k_;}),function(lb){return h.map(k7,lb);}),k6(k5))),(lc=function(ld){return e.RX().Sequence(ld);},lc(k4)));le=function(lf){return jJ.event.Trigger(lf);};return le(k3);},function(lg){return o.OnAfterRender(k1,lg);}),(k0(kZ),kZ))),Label:kY}));lh=V.BuildForm(jt);li=U.subscribeTo(lh.State,function(lj){var lk,ll,lm,ln,lo,lp,lq,lr;if(lj.$==1){return null;}else{lk=lj.$0[0];ll=lj.$0[1];lm=e.FormAndElement(ll);ln=lm[0];lo=lm[1];lp=g.Heat(ln.State);j2.Add1(lo,lk);jI.contents=(lq=jI.contents,(lr=h.ofArray([[lk,lp,lo,ln]]),h.append(lq,lr)));return jK(null);}});ls=function(lt){lt;};ls(li);lu=(lv=(lw=lh.Body,(lx=(ly=function(lz){return $.New(Z,{$:1,$0:lz});},function(lA){return e.RMap(ly,lA);}),lx(lw))),(lB=(lC=(lD=(lE=$.New(_0,{$:1,$0:kX}),(lF=function(lG){return $.New(Z,{$:0,$0:lG});},lF(lE))),(lH=function(lI){return $.New(Z,{$:2,$0:lI});},lH(lD))),(lJ=function(lK){return e.RX().Return(lK);},lJ(lC))),e.RX().Merge(lv,lB)));lL=function(){var lN,lO,lQ,lR,lS,lU,lV,lY,lZ,l0;lN=(lO=function(lP){return t.length(lP);},lO(jx));lQ=(lR=t.toList(C.range(lN,j2.get_Length()-1)),(lS=function(lT){return h.rev(lT);},lS(lR)));lU=(lV=function(lW){return m(j2.element.Body).tabs("remove",lW);},function(lX){return t.iter(lV,lX);});lU(lQ);m(j2.element.Body).tabs("select",jr);jI.contents=jx;lh.Notify.call(null,{});lY=L.Get(jx);while(lY.MoveNext()){lZ=lY.get_Current();l0=lZ[3];l0.Notify.call(null,{});}return jK(null);};return $.New(_1,{Body:lu,Dispose1:function(){return null;},Notify:lL,State:kd});},e.BaseFormlet().New(jv));l2=function(l3){return _2.OfIFormlet(l3);};return l2(ju);}},CssConstants:{AddIconClass:$.Field(function(){return"addIcon ui-icon ui-icon-circle-plus";}),DragContainerClass:$.Field(function(){return"dragContainer";}),DraggableClass:$.Field(function(){return"draggableItem";}),DropContainerClass:$.Field(function(){return"dropContainer";}),DroppableClass:$.Field(function(){return"droppableItem";}),ErrorIconClass:$.Field(function(){return"errorIcon icon ui-icon ui-icon-alert";}),FormContainerClass:$.Field(function(){return"formlet-jqueryui";}),LegendClass:$.Field(function(){return"ui-widget-content ui-corner-all";}),RemIconClass:$.Field(function(){return"removeIcon ui-icon ui-icon-circle-minus";}),ValidIconClass:$.Field(function(){return"validIcon ui-icon ui-icon-check";})},Enhance:{MakeWithSubmitAndResetButtons:function(l4,l5,l6){var l7,l8,nx;l7=(l8=function(){var l_,l$,ma,ml,mm,mn,mq,mr,ms,mt,mv,mw,mz,mB,mC,mP,mR,mS,mT,mU,mX,mY,mZ,m0,m4,m5,m_,m$,na,nb,nc,nd,nf,nh,nj,nk,nl,nm,np,nr,ns;l_=(l$=(ma=function(mb){var mc,md,me,mf,mg,mh;mc={contents:false};md=(me=B.New3((mf=[y.New()],(null,mf[0].disabled=true,mf[0].label=mb,mf[0]))),(mg=(mh=function(){mc.contents=true;},function(mj){return o.OnAfterRender(mh,mj);}),(mg(me),me)));return[md,mc];},function(mk){return _3.map(ma,mk);}),l$(l4));ml=(mm=(mn=function(mo){return B.New4(mo);},function(mp){return _3.map(mn,mp);}),mm(l5));mq=(mr={$:0},$.New(X,{Element:(ms=(mt=h.ofArray([_3.map($.Tupled(function(mu){return mu[0];}),l_),ml]),(mv=(mw=function(mx){return mx;},function(my){return h.choose(mw,my);}),mv(mt))),(mz=function(mA){return u.Div(mA);},mz(ms))),Label:mr}));mB=V.BuildForm(l6);mC=U.subscribeTo(mB.State,function(mD){var mE,mF;mE=(mF=$.Tupled(function(mG){var mH,mI,mJ,mK,mL;mH=mG[0];mI=mG[1];if(mD.$==1){mJ=mD.$0;return mH.Disable();}else{if(mI.contents){return mH.Enable();}else{mK=(mL=function(){return mH.Enable();},function(mN){return o.OnAfterRender(mL,mN);});return mK(mH);}}}),function(mO){return _3.iter(mF,mO);});return mE(l_);});mP=function(mQ){mQ;};mP(mC);mR=l_.$==0?mB.State:(mS=l_.$0[0],(mT={contents:0},(mU=S.New(),(mS.OnClick(function(){var mW;C.Increment(mT);mW=mT.contents;return mU.event.Trigger(mW);}),(mX={contents:0},(mY=(mZ=mB.State,(m0=mU.event,function(m1){return e.RX().CombineLatest(mZ,m0,m1);})(function(m2){return function(m3){return[m2,m3];};})),(m4=(m5=$.Tupled(function(m6){var m7,m8;m7=m6[0];m8=m6[1];if(m8!==mX.contents){mX.contents=m8;return{$:1,$0:m7};}else{return{$:0};}}),function(m9){return e.RChoose(m5,m9);}),m4(mY))))))));m_=(m$=(na=(nb=(nc=$.New(_0,{$:1,$0:mq}),(nd=function(ne){return $.New(Z,{$:0,$0:ne});},nd(nc))),(nf=function(ng){return $.New(Z,{$:2,$0:ng});},nf(nb))),(nh=function(ni){return e.RX().Return(ni);},nh(na))),(nj=(nk=mB.Body,(nl=(nm=function(nn){return $.New(Z,{$:1,$0:nn});},function(no){return e.RMap(nm,no);}),nl(nk))),e.RX().Merge(nj,m$)));np=function(nq){return mB.Notify.call(null,nq);};nr=(ns=function(nt){return nt.OnClick(function(){return np(null);});},function(nv){return _3.iter(ns,nv);});nr(ml);return $.New(_1,{Body:m_,Dispose1:function(){return null;},Notify:np,State:mR});},e.BaseFormlet().New(l8));nx=function(ny){return _2.OfIFormlet(ny);};return nx(l7);},Many:function(nz){var nA,nB,nC;nA=(nB=(nC=_5.get_Default(),$.New(_5,{AddIconClass:N.AddIconClass(),RemoveIconClass:N.RemIconClass()})),function(nD){return _4.CustomMany(nB,nD);});return nA(nz);},WithDialog:function(nE,nF){var nG;nG=function(){var nI,nJ,nK,nL,nM,nN,nO,nT,nU;nI=j.New($.New(s,{$:1,$0:$.New(A,{$:0})}));nJ=(nK=[_6.New()],(null,nK[0].modal=true,nK[0].dialogClass="dialog",nK[0].title=nE,nK[0]));nL={contents:{$:0}};nM=u.Div(h.ofArray([(nN=(nO=function(nP){var nQ,nR;nQ=nL.contents;if(nQ.$==0){return null;}else{nR=nQ.$0;nI.Trigger($.New(s,{$:0,$0:nP}));return m(nR.element.Body).dialog("close");}},function(nS){return V.Run(nO,nS);}),nN(nF))]));nT=E.New1(nM,nJ);nL.contents={$:1,$0:nT};nU=function(){m(nT.element.Body).dialog("close");return nI.Trigger($.New(s,{$:1,$0:$.New(A,{$:0})}));};return[u.Div(h.ofArray([nT])),nU,nI];};return V.BuildFormlet(nG);},WithFormContainer:function(nW){var nX,nY;nX=(nY=function(nZ){return o.add(u.Div(h.ofArray([u.Attr().Class(N.FormContainerClass())])),h.ofArray([nZ]));},function(n0){return V.MapElement(nY,n0);});return nX(nW);},WithLegend:function(n1,n2){var n3,n4;n3=(n4=function(n5){var n6,n7,n8,n9,n_,n$,oa;n6=o.add((n7=h.ofArray([u.Attr().Class(N.LegendClass())]),(n8=u.Tags(),n8.NewTag("fieldset",n7))),h.ofArray([(n9=h.ofArray([u.Tags().text(n1)]),(n_=u.Tags(),n_.NewTag("legend",n9))),(n$=n5.Label,n$.$==0?n5.Element:(oa=n$.$0,u.Table(h.ofArray([u.TBody(h.ofArray([u.TR(h.ofArray([u.TD(h.ofArray([oa(null)])),u.TD(h.ofArray([n5.Element]))]))]))]))))]));return $.New(X,{Element:n6,Label:{$:0}});},function(ob){return V.MapBody(n4,ob);});return n3(n2);},WithResetButton:function(oc,od){return _7.MakeWithSubmitAndResetButtons({$:0},{$:1,$0:oc},od);},WithSubmitAndResetButtons:function(oe,of,og){return _7.MakeWithSubmitAndResetButtons({$:1,$0:oe},{$:1,$0:of},og);},WithSubmitButton:function(oh,oi){return _7.MakeWithSubmitAndResetButtons({$:1,$0:oh},{$:0},oi);},WithValidationIcon:function(oj){var ok,ol;ok=(ol=$.New(_8,{ValidIconClass:N.ValidIconClass(),ErrorIconClass:N.ErrorIconClass()}),function(om){return _4.WithCustomValidationIcon(ol,om);});return ok(oj);}},Utils:{BaseFormlet:$.Field(function(){return _9.New(_2.UtilsProvider());}),FormAndElement:function(on){var oo,op,oq,or;oo=V.WithLayoutOrDefault(on);op=V.BuildForm(oo);oq=oo.get_Layout().Apply.call(null,op.Body);if(oq.$==0){return[op,u.Div($.New(A,{$:0}))];}else{or=oq.$0[0];return[op,or.Element];}},MkFormlet:function(os){var ot;ot=function(){var ov,ow,ox,oy,oz;ov=os(null);ow=ov[2];ox=ov[1];oy=ov[0];oz=u.Div(h.ofArray([oy]));return[oz,ox,ow];};return V.BuildFormlet(ot);},RChoose:function(oA,oB){return e.RX().Choose(oB,oA);},RMap:function(oC,oD){return e.RX().Select(oD,oC);},RX:$.Field(function(){return _2.UtilsProvider().Reactive;})}}}}}});$.OnInit(function(){a=$.Safe($$.Array);b=$.Safe($$.IntelliFactory.WebSharper);c=$.Safe(b.Formlet);d=$.Safe(c.JQueryUI);e=$.Safe(d.Utils);f=$.Safe($$.IntelliFactory.Reactive);g=$.Safe(f.Reactive);h=$.Safe(b.List);i=$.Safe(b.Arrays);j=$.Safe(f["HotStream`1"]);k=$.Safe(b.JQueryUI);l=$.Safe(k.Accordion);m=$.Safe($$.jQuery);n=$.Safe(b.Html);o=$.Safe(n.Operators);p=$.Safe(b.Lazy);q=$.Safe($$.IntelliFactory.Formlet);r=$.Safe(q.Base);s=$.Safe(r["Result`1"]);t=$.Safe(b.Seq);u=$.Safe(n.Default);v=$.Safe(n.EventsPervasives);w=$.Safe(k.Autocomplete);x=$.Safe(k.AutocompleteConfiguration);y=$.Safe(k.ButtonConfiguration);z=$.Safe(d.Controls);A=$.Safe(h.T);B=$.Safe(k.Button);C=$.Safe(b.Operators);D=$.Safe(k.Datepicker);E=$.Safe(k.Dialog);F=$.Safe(z.DragAndDropConfig);G=$.Safe(b.Collections);H=$.Safe(G.Dictionary);I=$.Safe(k.DraggableConfiguration);J=$.Safe($$.Math);K=$.Safe(k.Draggable);L=$.Safe(b.Enumerator);M=$.Safe(k.Droppable);N=$.Safe(d.CssConstants);O=$.Safe(z.SliderConfiguration);P=$.Safe(k.SliderConfiguration);Q=$.Safe(k.Slider);R=$.Safe(b.Control);S=$.Safe(R["FSharpEvent`1"]);T=$.Safe(k.Sortable);U=$.Safe(b.Util);V=$.Safe(c.Formlet);W=$.Safe(k.Tabs);X=$.Safe(c.Body);Y=$.Safe(r.Tree);Z=$.Safe(Y["Edit`1"]);_0=$.Safe(Y["Tree`1"]);_1=$.Safe(r["Form`2"]);_2=$.Safe(c.Data);_3=$.Safe(b.Option);_4=$.Safe(c.Enhance);_5=$.Safe(_4.ManyConfiguration);_6=$.Safe(k.DialogConfiguration);_7=$.Safe(d.Enhance);_8=$.Safe(_4.ValidationIconConfiguration);return _9=$.Safe(r["FormletProvider`1"]);});$.OnLoad(function(){e.RX();e.BaseFormlet();N.ValidIconClass();N.RemIconClass();N.LegendClass();N.FormContainerClass();N.ErrorIconClass();N.DroppableClass();N.DropContainerClass();N.DraggableClass();N.DragContainerClass();N.AddIconClass();});}());

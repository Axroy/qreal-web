<?xml version='1.0' encoding='utf-8'?>
<root>
    <world>
        <walls/>
        <colorFields/>
        <regions/>
    </world>
    <robots>
        <robot direction="0" position="-206:26" id="trikV62KitRobot">
            <sensors>
                <sensor direction="0" port="E3###input###M3###encoder3" position="0:0" type=""/>
                <sensor direction="0" port="M4###output######" position="0:0" type=""/>
                <sensor direction="0" port="E2###input###M2###encoder2" position="0:0" type=""/>
                <sensor direction="0" port="E4###input###M4###encoder4" position="0:0" type=""/>
                <sensor direction="0" port="E1###input###M1###encoder1" position="0:0" type=""/>
                <sensor direction="0" port="M3###output######" position="0:0" type=""/>
                <sensor direction="0" port="A1###input######sensorA1" position="0:0" type=""/>
            </sensors>
            <startPosition y="51" direction="0" x="-181"/>
            <wheels left="M3###output######" right="M4###output######"/>
        </robot>
    </robots>
    <constraints>
        <timelimit value="5000"/>
        <!-- событие, которое проверяет, улыбается ли робот -->
        <event id="Check_smile" settedUpInitially="true">
            <condition>
                <equals>
                    <objectState object="robot1.display.smiles"/>
                    <bool value="true"/>
                </equals>
            </condition>
            <triggers>
                <setUp id="Check_say"/>
                <setUp id="Check_say_fails"/>
            </triggers>
        </event>
        <!-- событие, которое сообщает об ошибке, если через 100 мс после начала робот не улыбается -->
        <event id="Check_smile_fails" settedUpInitially="true">
            <conditions glue="and">
                <timer timeout="100"/>
                <settedUp id="Check_smile"/>
            </conditions>
            <trigger>
                <fail message="Робот должен улыбаться!"/>
            </trigger>
        </event>
        <!-- событие, которое проверяет, сказал ли робот "Привет, мир" -->
        <event id="Check_say">
            <condition>
                <equals>
                    <objectState object="robot1.shell.lastPhrase"/>
                    <string value="Привет, мир"/>
                </equals>
            </condition>
            <trigger>
                <success/>
            </trigger>
        </event>
        <!-- событие, которое сообщает об ошибке, если робот не сказал "Привет, мир" через 100 мс после того, как начал улыбаться -->
        <event id="Check_say_fails">
            <conditions glue="and">
                <timer timeout="100"/>
                <settedUp id="Check_say"/>
            </conditions>
            <trigger>
                <fail message="Робот должен сказать фразу 'Привет, мир'"/>
            </trigger>
        </event>
    </constraints>
</root>
